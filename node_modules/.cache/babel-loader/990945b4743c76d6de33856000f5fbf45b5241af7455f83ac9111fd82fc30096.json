{"ast":null,"code":"import React,{useState,useEffect}from'react';import Sidebar from'../components/sidebar';import StatCard from'../components/statcard';import UserTable from'../components/UserTable';import'./Consultants.css';// CSS file for dashboard styling\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Consultants=()=>{const[currentView,setCurrentView]=useState('Consultants');const[consultants,setConsultants]=useState([]);const[loading,setLoading]=useState(true);const[inactiveUsersCount,setInactiveUsersCount]=useState(0);const[consultantsCount,setConsultantsCount]=useState(0);const[customersCount,setCustomersCount]=useState(0);const[totalActiveUsers,setTotalActiveUsers]=useState(0);useEffect(()=>{const fetchConsultants=async()=>{try{const response=await fetch('https://bridechila-apis-2.onrender.com/consultants');const data=await response.json();const formattedConsultants=data.map(user=>({name:user.name,email:user.email,number:user.phoneNumber,profession:user.profession||'N/A',status:user.accDeactivated?'Inactive':'Active',role:user.role}));setConsultants(formattedConsultants);setLoading(false);}catch(error){console.error(\"Error fetching consultants:\",error);setLoading(false);}};const fetchTotals=async()=>{try{const responses=await Promise.all([fetch('https://bridechila-apis-2.onrender.com/totalActiveUsers'),fetch('https://bridechila-apis-2.onrender.com/totalInactiveUsers'),fetch('https://bridechila-apis-2.onrender.com/totalConsultants'),fetch('https://bridechila-apis-2.onrender.com/totalCustomers')]);const[activeData,inactiveData,consultantsData,customersData]=await Promise.all(responses.map(response=>response.json()));setTotalActiveUsers(activeData.totalActiveUsers);setInactiveUsersCount(inactiveData.totalInactiveUsers);setConsultantsCount(consultantsData.totalConsultants);setCustomersCount(customersData.totalCustomers);}catch(error){console.error('Error fetching totals:',error);}};fetchConsultants();fetchTotals();},[currentView]);const handleViewChange=view=>{setCurrentView(view);};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(Sidebar,{onMenuClick:handleViewChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-cards\",children:[/*#__PURE__*/_jsx(StatCard,{title:\"Total Active Users\",value:totalActiveUsers}),/*#__PURE__*/_jsx(StatCard,{title:\"Total Inactive Users\",value:inactiveUsersCount}),/*#__PURE__*/_jsx(StatCard,{title:\"Total Consultants\",value:consultantsCount}),/*#__PURE__*/_jsx(StatCard,{title:\"Total Customers\",value:customersCount})]}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading consultants...\"}):/*#__PURE__*/_jsx(UserTable,{users:consultants,heading:\"All Consultants\"//buttonLabel=\"Delete\"\n})]})]});};export default Consultants;","map":{"version":3,"names":["React","useState","useEffect","Sidebar","StatCard","UserTable","jsx","_jsx","jsxs","_jsxs","Consultants","currentView","setCurrentView","consultants","setConsultants","loading","setLoading","inactiveUsersCount","setInactiveUsersCount","consultantsCount","setConsultantsCount","customersCount","setCustomersCount","totalActiveUsers","setTotalActiveUsers","fetchConsultants","response","fetch","data","json","formattedConsultants","map","user","name","email","number","phoneNumber","profession","status","accDeactivated","role","error","console","fetchTotals","responses","Promise","all","activeData","inactiveData","consultantsData","customersData","totalInactiveUsers","totalConsultants","totalCustomers","handleViewChange","view","className","children","onMenuClick","title","value","users","heading"],"sources":["D:/My tasks/admin-dashboard/src/pages/Consultants.js"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport Sidebar from '../components/sidebar';\r\nimport StatCard from '../components/statcard';\r\nimport UserTable from '../components/UserTable';\r\nimport './Consultants.css'; // CSS file for dashboard styling\r\n\r\nconst Consultants = () => {\r\n  const [currentView, setCurrentView] = useState('Consultants');\r\n  const [consultants, setConsultants] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [inactiveUsersCount, setInactiveUsersCount] = useState(0);\r\n  const [consultantsCount, setConsultantsCount] = useState(0);\r\n  const [customersCount, setCustomersCount] = useState(0);\r\n  const [totalActiveUsers, setTotalActiveUsers] = useState(0);\r\n  useEffect(() => {\r\n    const fetchConsultants = async () => {\r\n      try {\r\n        const response = await fetch('https://bridechila-apis-2.onrender.com/consultants');\r\n        const data = await response.json();\r\n        const formattedConsultants = data.map(user => ({\r\n          name: user.name,\r\n          email: user.email,\r\n          number: user.phoneNumber,\r\n          profession: user.profession || 'N/A',\r\n          status: user.accDeactivated ? 'Inactive' : 'Active',\r\n          role: user.role\r\n        }));\r\n        setConsultants(formattedConsultants);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error(\"Error fetching consultants:\", error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    const fetchTotals = async () => {\r\n      try {\r\n        const responses = await Promise.all([\r\n          fetch('https://bridechila-apis-2.onrender.com/totalActiveUsers'),\r\n          fetch('https://bridechila-apis-2.onrender.com/totalInactiveUsers'),\r\n          fetch('https://bridechila-apis-2.onrender.com/totalConsultants'),\r\n          fetch('https://bridechila-apis-2.onrender.com/totalCustomers')\r\n        ]);\r\n\r\n        const [activeData, inactiveData, consultantsData, customersData] = await Promise.all(\r\n          responses.map(response => response.json())\r\n        );\r\n\r\n        setTotalActiveUsers(activeData.totalActiveUsers);\r\n        setInactiveUsersCount(inactiveData.totalInactiveUsers);\r\n        setConsultantsCount(consultantsData.totalConsultants);\r\n        setCustomersCount(customersData.totalCustomers);\r\n      } catch (error) {\r\n        console.error('Error fetching totals:', error);\r\n      }\r\n    };\r\n\r\n    fetchConsultants();\r\n    fetchTotals();\r\n  }, [currentView]);\r\n\r\n  const handleViewChange = (view) => {\r\n    setCurrentView(view);\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <Sidebar onMenuClick={handleViewChange} />\r\n      <div className=\"content\">\r\n      <div className=\"stat-cards\">\r\n          <StatCard title=\"Total Active Users\" value={totalActiveUsers} />\r\n          <StatCard title=\"Total Inactive Users\" value={inactiveUsersCount} />\r\n          <StatCard title=\"Total Consultants\" value={consultantsCount} />\r\n          <StatCard title=\"Total Customers\" value={customersCount} />\r\n        </div>\r\n        {loading ? (\r\n          <p>Loading consultants...</p>\r\n        ) : (\r\n          <UserTable \r\n            users={consultants} \r\n            heading=\"All Consultants\"\r\n            //buttonLabel=\"Delete\"\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Consultants;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}